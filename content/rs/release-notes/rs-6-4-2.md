---
Title: Redis Enterprise Software release notes 6.4.2 (February 2023)
linkTitle: 6.4.2 (February 2023)
description: Ubuntu 20.04 support. Pub/sub ACLs & default permissions. Validate client certificates by subject attributes.
compatibleOSSVersion: Redis 6.2.6
weight: 72
alwaysopen: false
categories: ["RS"]
aliases: [ /rs/release-notes/rs-6-4-2/,
           /rs/release-notes/rs-6-4-2.md,
           /rs/release-notes/rs-6-4-2,
           /rs/release-notes/rs-6-4-2.md ]
---

​[​Redis Enterprise Software version 6.4.2](https://redis.com/redis-enterprise-software/download-center/software/) is now available!


The following table shows the MD5 checksums for the available packages:

| Package | MD5 Checksum (6.4.2 February release) |
|---------|---------------------------------------|
| Ubuntu 16 | b0dbecaa974ca08245dda55d53b6fe9b |
| Ubuntu 18 | a5192e8b0734db80d6b7c2b98a170c58 |
| RedHat Enterprise Linux (RHEL) 7<br/>Oracle Enterprise Linux (OL) 7 | c1537855dcfe7a7cedf9031ce01e2b9b |
| RedHat Enterprise Linux (RHEL) 8<br/>Oracle Enterprise Linux (OL) 8 <br/>Rocky Enterprise Linux | a24dc749d6dcb5df2162d7a41791c7aa |

This version offers:

- Extended validation of client certificates via mTLS full subject support

- Support for default restrictive permissions when using publish/subscribe commands and ACL

- Enhanced TLS performance when Redis returns large arrays responses

- Compatibility with [open source Redis 6.2.6](https://github.com/redis/redis)

- Additional enhancements and bug fixes

## Features and enhancements

### Validate client certificates by subject attributes

You can now validate client certificates by their “Subject” attributes. When a client attempts to connect to a database, Redis Enterprise Software compares the values of the client certificate subject attributes to the subject values which the database allows. Only when the values match, the client is allowed to connect to the database. This gives more flexibility in controlling which client can access which database.

See [Enable TLS](https://docs.redis.com/latest/rs/security/tls/enable-tls/) for more information.


### Default pub/sub ACL permissions

Redis is continuously enhancing its ACL functionality and coverage. With the release of Redis DB 6.2, [ACL](https://redis.io/docs/management/security/acl/) has been enhanced to allow and disallow Pub/Sub channels. 

Part of protecting Pub/Sub channels requires changing the default access from permissive to restrictive, meaning restricting all Pub/Sub channels unless specifically permitted by ACL. To allow the transition across all databases in the cluster, Redis Enterprise Software 6.4.2 provides a new configuration option `acl-pubsub-default` that sets the cluster-wide default for all channels: permitted or restricted.

The 6.4.2 installation-provided value of `acl-pubsub-default` is permissive (`allchannels`) to comply with previous Redis versions. Once all DBs in the cluster are in Redis DB version 6.2 (or higher in future versions), the value can be set via `rladmin` / API to restrictive (`resetchannels`).

To permit specific Pub/Sub channels for specific users, define the appropriate ACL. The UI has been enhanced to support Pub/Sub channels definition, in addition to the CLI and API.

If you are using ACL and Pub/Sub channels, we recommend reviewing your databases and ACL settings and plan switching to restricted mode, which will be the new default of `acl-pubsub-default` in future Redis Enterprise Software releases.

## Version changes 

### Breaking changes

- REST API: the `authorized_names` field of the [BDB object](https://docs.redis.com/latest/rs/references/rest-api/objects/bdb/) has been deprecated. Use the new `authorized_subjects` field instead.

### New default Redis DB version

Redis Enterprise Software version 6.2.x packages two Redis DB versions: Redis DB 6.0 and Redis DB 6.2. Up until now, the target Redis DB version for provisioning new DB and for upgrading an existing DB was 6.0 (enforced by the `upgrade_policy` parameter).

To allow customers more flexibility in future upgrades, starting with Enterprise Software 6.4.2 the default Redis DB version for provisioning new DB and upgrading an existing DB has been changed and it is now 6.2 (for both `upgrade_policy=major` and `upgrade_policy=latest`). 

| Redis<br />Enterprise | Bundled Redis<br />DB versions | Default DB version<br />(upgraded/new databases) |
|-------|----------|-----|
| 6.2.x | 6.0, 6.2 | 6.0 |
| 6.4.2 | 6.0, 6.2 | 6.2 |

It is possible to override the default version with [`rladmin`](https://docs.redis.com/latest/rs/references/cli-utilities/rladmin/tune/#tune-cluster); however, we recommend not to do so.

### Known operating system limitations

#### Ubuntu 20.04

By default, the SHA1 hash algorithm cannot be used ([OpenSSL’s default security level is set to 2](https://manpages.ubuntu.com/manpages/focal/man3/SSL_CTX_set_security_level.3ssl.html#notes)). Thus, using SHA1 certificates is expected to be rejected by the OS (even if the `mtls_allow_weak_hashing` option is enabled). Such certificates should be replaced with newer certificates which use SHA-256. Note that the certificates which are provided with Redis Enterprise Software use SHA-256. 

#### Amazon Linux 2

To run on Amazon Linux 2 Redis Enterprise Software utilizes the same package as the one used for RHEL7. The package is using a version of the “Boost” library that may be incompatible with newer machines. This limitation will be fixed in the next maintenance release. 

#### RHEL 8

Due to binary differences in modules between RHEL7 and RHEL8 it is not possible to upgrade RHEL 7 clusters to RHEL 8 when those clusters host databases using modules. Instead, you need to create a new cluster on RHEL 8 and then migrate existing data from your RHEL 7 cluster. This does not apply to clusters that do not use modules.

### Deprecations

#### Ubuntu 16.04

Ubuntu 16 support is considered deprecated and will be removed in a future release. Ubuntu 16.04 LTS (Xenial) has reached the end of its free initial five-year security maintenance period as of April 30, 2021

#### Persistency for Active-Active databases

The snapshot option for data persistence on Active-Active databases is deprecated. Customers who are running Active-Active databases which are configured with snapshot data persistence are advised to reconfigure their data persistence mode to use the AOF option by running the following command:

```sh
crdb-cli crdb update --crdb-guid <CRDB_GUID> \
    --default-db-config '{"data_persistence": "aof", "aof_policy":"appendfsync-every-sec"}'
```

#### TLS 1.0 and TLS 1.1

TLS 1.0 and TLS 1.1 connections are considered deprecated in favor of TLS 1.2 or later.
Please verify that all clients, apps, and connections support TLS 1.2. Support for the earlier protocols will be removed in a future release.
Certain operating systems, such as RHEL 8, have already removed support for the earlier protocols. Redis Enterprise Software cannot support connection protocols that are not supported by the underlying operating system.

#### 3DES encryption cipher

The 3DES encryption cipher is considered deprecated in favor of stronger ciphers like AES.
Please verify that all clients, apps, and connections support the AES cipher. Support for 3DES will be removed in a future release.
Certain operating systems, such as RHEL 8, have already removed support for 3DES. Redis Enterprise Software cannot support cipher suites that are not supported by the underlying operating system.

### Product lifecycle updates 

Redis Enterprise Software v6.2 EOL is August 31, 2023.

To learn more, see the Redis Enterprise Software [product lifecycle](https://docs.redis.com/latest/rs/administering/product-lifecycle/), which details the release number and the end-of-life schedule for Redis Enterprise Software.

For Redis modules information and lifecycle, see [Module lifecycle](https://docs.redis.com/latest/modules/modules-lifecycle/).

## Redis modules 

Redis Enterprise Software v6.4.2 includes the following Redis modules:

- [RediSearch v2.4.16](https://docs.redis.com/latest/modules/redisearch/)

- [RedisJSON v2.2.0](https://docs.redis.com/latest/modules/redisjson/release-notes/redisjson-2.0-release-notes/)

- [RedisBloom v2.2.18](https://docs.redis.com/latest/modules/redisbloom/release-notes/redisbloom-2.2-release-notes/)

- [RedisGraph v2.8.20](https://docs.redis.com/latest/modules/redisgraph/)

- [RedisTimeSeries v1.6.17](https://docs.redis.com/latest/modules/redistimeseries/)

See [Upgrade modules](https://docs.redis.com/latest/modules/install/upgrade-module/) to learn how to upgrade a module for a database. 

## Additional enhancements

### Installations, upgrades, and troubleshooting

- Added the ability for `install.sh` to run even if “upgrade mode” is already enabled, to allow rerun in case of a previous run failure (RS77319)

- Added log messages to the `redis_mgr` process (RS77891), the job_scheduler process (RS82673) and the `install.sh` script (RS82673)

- Improved `rladmin` error messages for certificate validation (RS79933)

- Added internode encryption ports to cli utility `rlcheck` validation (RS68965)

- Added an alert to notify when a node operation (e.g. maintenance mode) failed, aborted or was canceled. The alert is enabled by default (RS76089)

## Resolved issues

- RS72866 Improved performance for client connections which use TLS

- RS78241 Fixed shard placement to always respect rack zone restrictions and avoid a state where a master and slave are on the same rack even if temporarily

- RS78144 Removed the dependency on system-wide `ldconfig` so non-interactive processes will use their own dynamic libraries without impacting external services

- RS78028 Fixed race condition during rolling upgrade that might result in shards repeatedly restarting

- RS77964 Fixed module deletion to remove the old directory with the module

- RS75259 Fixed node to prevent using plain text communication instead of TLS after losing connectivity

- RS69616 Fixed validation for internode communication ports

- RS83535 Fixed `sentinel_service` to start on RHEL8 with DISA STIG profile 

- RS87191 Fixed a cross slot error when using Redis on Flash with Replica Of, in case a key on the source DB got swapped from RAM to flash and expired while it was also part of Lua script execution

## Security

### Open source Redis security fixes compatibility

As part of Redis's commitment to security, Redis Enterprise Software implements the latest [security fixes](https://github.com/redis/redis/releases) available with [open source Redis](https://github.com/redis/redis). The following open source Redis [CVEs](https://github.com/redis/redis/security/advisories) do not affect Redis Enterprise:

- [CVE-2021-32625](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-32625) — Redis Enterprise is not impacted by the CVE that was found and fixed in open source Redis since Redis Enterprise does not implement LCS. Additional information about the open source Redis fix is on the [Redis GitHub page](https://github.com/redis/redis/releases) (Redis 6.2.4, Redis 6.0.14)

- [CVE-2021-32672](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-32672) — Redis Enterprise is not impacted by the CVE that was found and fixed in open source Redis because the LUA debugger is unsupported in Redis Enterprise. Additional information about the open source Redis fix is on the [Redis GitHub page](https://github.com/redis/redis/releases) (Redis 6.2.6, Redis 6.0.16)

- [CVE-2021-32675](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-32675) — Redis Enterprise is not impacted by the CVE that was found and fixed in open source Redis because the proxy in Redis Enterprise does not forward unauthenticated requests. Additional information about the open source Redis fix is on the [Redis GitHub page](https://github.com/redis/redis/releases) (Redis 6.2.6, Redis 6.0.16)

- [CVE-2021-32762](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-32762) — Redis Enterprise is not impacted by the CVE that was found and fixed in open source Redis because the memory allocator used in Redis Enterprise is not vulnerable. Additional information about the open source Redis fix is on the [Redis GitHub page](https://github.com/redis/redis/releases) (Redis 6.2.6, Redis 6.0.16)

- [CVE-2021-41099](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-41099) — Redis Enterprise is not impacted by the CVE that was found and fixed in open source Redis because the `proto-max-bulk-len CONFIG` is blocked in Redis Enterprise. Additional information about the open source Redis fix is on the [Redis GitHub page](https://github.com/redis/redis/releases) (Redis 6.2.6, Redis 6.0.16)

Redis Enterprise has already included the fixes for the relevant CVEs. Some CVEs announced for open source Redis do not affect Redis Enterprise due to different and additional functionality available in Redis Enterprise that is not available in open source Redis.
